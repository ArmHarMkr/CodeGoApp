@using CodeGoApp.Areas.Identity.Data;
@using CodeGoApp.ViewModels
@using Microsoft.AspNetCore.Identity;
@inject SignInManager<AppUser> signInManager;
@inject UserManager<AppUser> _userManager;

@model List<UserViewModel>

<h1>User List</h1>

<form method="get" action="@Url.Action("Index", "Home")">
    <label for="languages">Enter Programming Languages:</label>
    <input type="text" name="languages" id="languages" placeholder="e.g., C#, JavaScript">

    <button type="submit">Search</button>
</form>

<link rel="stylesheet" href="~/css/user-cards.css" />

<div class="user-cards">
    @foreach (var user in Model)
    {
        if (user != null)
        {
            <div class="user-card">
                <h2>@user.FirstName @user.LastName</h2>
                <p><strong>ID:</strong> @user.ReceiverId</p>
                <p><strong>Email:</strong> @user.Email</p>
                <p><strong>Languages:</strong> @user.Languages</p>
                <a asp-action="ShowMessage" asp-controller="Chat" asp-route-id="@user.ReceiverId">Chat</a>
            </div>
        }
    }
</div>
